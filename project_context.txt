PROJECT ARCHITECTURE SKELETON
=============================

ğŸ“‚ claude/
    ğŸ generate_map.py
        def generate_skeleton(start_path, output_file)
    ğŸ ttsv2_V5.py
        class HebrewTTSStudio(QMainWindow)
            def __init__(self)
            def init_ui(self)
            def save_settings(self)
            def open_nikud_keyboard(self)
    ğŸ“‚ .claude/
    ğŸ“‚ src/
        ğŸ __init__.py
        ğŸ“‚ ui/
            ğŸ __init__.py
            ğŸ styles.py
            ğŸ“‚ tabs/
                ğŸ karaoke_tab.py
                    class KaraokeTab(QWidget)
                        def change_playback_rate(self)
                        def adjust_speed_step(self, direction)
                        def __init__(self, output_dir, parent=None)
                        def init_ui(self)
                        def toggle_sidebar(self)
                        def change_playback_rate(self)
                        def on_file_selected(self, item, column=0)
                        def toggle_sidebar(self)
                        def eventFilter(self, source, event)
                        def handle_right_click_action(self, global_pos)
                        def handle_left_click_seek(self, pos)
                        def import_external_project(self)
                        def refresh_file_list(self)
                        def on_file_selected(self, item, column=0)
                        def load_project(self, json_path, mp3_path)
                        def manually_load_pdf(self)
                        def select_file_by_path(self, path)
                        def show_file_context_menu(self, pos)
                        def reload_text_content(self)
                        def restore_error_marks(self)
                        def sync_text(self, ms)
                        def trigger_page_jump(self, page_num)
                        def apply_highlight(self, index, force=False)
                        def apply_range_style(self, start, end, active)
                        def scroll_to_index(self, index)
                        def toggle_play(self)
                        def on_state_changed(self, state)
                        def on_position_changed(self, p)
                        def on_duration_changed(self, d)
                        def on_slider_pressed(self)
                        def on_slider_released(self)
                        def on_slider_moved(self, val)
                        def seek_relative(self, delta)
                        def toggle_auto_scroll(self, checked)
                        def on_scrollbar_pressed(self)
                        def on_scrollbar_released(self)
                        def open_style_editor(self)
                        def toggle_nikud(self)
                        def save_progress(self)
                        def load_progress(self)
                        def format_ms(self, ms)
                ğŸ settings_tab.py
                    class SettingsTab(QWidget)
                        def __init__(self, parent=None)
                        def init_ui(self)
                        def load_values(self)
                        def apply_settings_to_memory(self)
                        def force_save(self)
                        def add_symbol_row(self)
                        def add_row_ui(self, symbol, duration)
                        def delete_symbol_row(self)
                ğŸ main_edit_tab.py
                    class MainEditTab(QWidget)
                        def __init__(self, parent=None)
                        def init_ui(self)
                        def load_pdf(self)
                        def extract_text(self)
                        def start_export_process(self)
                        def on_tts_finished(self, mp3_path, skipped, is_batch=False)
                        def on_tts_error(self, msg)
                        def on_telegram_upload_complete(self)
                        def start_auto_nikud(self)
                        def on_nikud_success(self, vocalized_text)
                            def tokenize(txt)
                        def on_nikud_error(self, msg)
                        def set_text_direction(self, direction)
                        def search_text(self)
                        def update_char_count(self)
                        def sync_pdf_to_cursor(self)
                        def get_text_safe(self)
                        def set_text_safe(self, text_with_tags)
                        def stop_worker_safely(self, worker_attr_name)
                        def open_advanced_import(self)
                        def run_dictionary_only(self)
                        def open_split_dialog(self)
                        def start_split_export_process(self, data)
                        def run_next_batch_task(self)
                        def on_batch_part_finished(self, mp3_path, skipped)
                        def create_sliced_pdf(self, output_filename)
                ğŸ dictionary_tab.py
                    class DictionaryTab(QWidget)
                        def __init__(self, parent=None)
                        def init_ui(self)
                        def refresh_dictionary_table(self)
                        def refresh_errors_table(self)
                        def clear_errors_list(self)
                        def add_manual_word(self)
                        def finish_manual_add(self, base_word, vocalized_result)
                        def add_or_update_word(self, base_word, vocalized_word, match_type)
                        def delete_selected_from_dict(self)
                        def clean_nikud_from_string(self, text)
                        def highlight_word_in_table(self, key)
                        def open_fix_dialog_for_error(self, word_with_nikud)
            ğŸ“‚ dialogs/
                ğŸ advanced_import.py
                    class ProgressFileReader
                        def __init__(self, filename, callback)
                        def read(self, size=-1)
                        def __len__(self)
                        def close(self)
                        def __getattr__(self, attr)
                    class AdvancedImportDialog(QDialog)
                        def __init__(self, parent=None)
                        def add_files(self)
                        def _add_row(self, file_path)
                        def duplicate_row(self)
                        def remove_row(self)
                        def parse_page_string(self, range_str, max_pages)
                        def run_extraction(self)
                ğŸ nikud_editor.py
                    class NikudEditorDialog(QDialog)
                        def __init__(self, text, parent=None)
                        def insert_char(self, char)
                        def get_text(self)
                        def mark_as_error(self)
                        def play_preview(self)
                        def play_audio_bytes(self, cache_key, data)
                ğŸ compare_dialog.py
                    class AnalysisDialog(QDialog)
                        def __init__(self, data, parent=None)
                        def apply_filters(self)
                        def normalize_text(self, text)
                        def remove_nikud_local(self, text)
                        def get_regex_pattern(self, word)
                        def open_editor_dialog(self, row, column)
                        def toggle_all_checkboxes(self)
                        def load_changes_list(self, changes_list)
                        def add_play_button(self, row, col, text)
                        def play_preview(self, text)
                        def on_audio_ready(self, key, data)
                        def play_bytes(self, data)
                        def process_dictionary_updates(self)
                        def apply_replacements(self)
                        def action_save_dict_and_text(self)
                        def action_save_dict_only(self)
                        def action_text_only(self)
                    class CompareDialog(QDialog)
                        def __init__(self, base_word, old_val, new_val, voice, speed, parent=None)
                        def play_preview(self, text)
                        def on_audio_ready(self, url)
                        def approve_new(self)
                ğŸ split_dialog.py
                    class SplitExportDialog(QDialog)
                        def __init__(self, default_filename="", parent=None)
                        def get_data(self)
                    class KaraokeStyleDialog(QDialog)
                        def __init__(self, current_styles, parent=None)
                        def create_style_group(self, title, prefix)
                        def create_color_btn(self, color_str)
                        def pick_color(self, btn)
                        def get_styles(self)
                ğŸ analysis_dialog.py
            ğŸ“‚ widgets/
                ğŸ nikud_keyboard.py
                    class NikudKeyboard(QDialog)
                        def __init__(self, parent=None)
                        def insert_char(self, char)
                ğŸ text_editor.py
                    class NikudTextEdit(QTextEdit)
                        def __init__(self, parent=None)
                        def contextMenuEvent(self, event)
                        def mousePressEvent(self, event)
                        def mouseDoubleClickEvent(self, event)
                        def toggle_error_state_direct(self, cursor, text, make_error)
                        def add_to_dictionary_direct(self, original, new_val, match_index)
                ğŸ errors_table.py
                    class ErrorsTableWidget(QTableWidget)
                        def __init__(self, parent=None)
                        def remove_row_by_text_smart(self, word_to_remove)
                        def save_changes_to_settings(self)
                        def load_data(self, errors_list)
                        def add_row_ui(self, vocalized_word)
                        def add_action_buttons(self, row)
                        def get_row_from_button(self)
                        def approve_error_to_dict(self)
                        def delete_row_btn_clicked(self)
                        def on_item_changed(self, item)
                        def run_auto_nikud(self, text, row)
                        def apply_auto_nikud(self, result, row)
                        def open_cell_editor(self, row, col)
                        def add_audio_btn(self, row, col, text)
                        def request_preview(self, text)
                        def find_main_window(self)
                        def clean_string(self, text)
                ğŸ pdf_viewer.py
                    class PDFViewerWidget(QWidget)
                        def __init__(self, parent=None)
                        def load_pdf(self, pdf_path)
                        def show_page(self, page_num)
                        def update_display(self)
                        def resizeEvent(self, event)
                ğŸ nikud_table.py
                    class PasteableTableWidget(QTableWidget)
                        def __init__(self, parent=None)
                        def find_main_window(self)
                        def on_item_changed(self, item)
                        def open_big_editor(self, row, column)
                        def auto_nikud_single_word(self, word, row)
                        def cleanup_worker(self, worker)
                        def fill_nikud_result(self, result_text, row)
                        def delete_selected_rows(self)
                        def add_row_with_data(self, base_word, vocalized_word, date_str=None, match_type="partial")
                        def on_combo_changed(self, row)
                        def set_play_button(self, row, col)
                        def on_play_clicked(self)
                        def play_preview(self, text)
                        def on_download_complete(self, cache_key, data)
                        def play_bytes(self, data)
                        def filter_rows(self, query)
                ğŸ jump_slider.py
                    class JumpSlider(QSlider)
                        def __init__(self, orientation, parent=None)
                        def mousePressEvent(self, event)
                        def pixelPosToRangeValue(self, pos)
        ğŸ“‚ utils/
            ğŸ vision_tools.py
                def crop_illustration_only(image_path)
            ğŸ __init__.py
            ğŸ settings_manager.py
                class SettingsManager
                    def __init__(self, config_file)
                    def load(self, default_settings)
                    def save_to_disk(self, settings_dict)
                    def load_settings(self, default_settings)
            ğŸ text_tools.py
                def remove_nikud(text)
                def advanced_cleanup(text)
        ğŸ“‚ workers/
            ğŸ processing_worker.py
                class ProcessingWorker(QObject)
                    def process_files(self, files)
            ğŸ nikud_worker.py
                class NikudWorker(QThread)
                    def __init__(self, text, nikud_dict=None)
                    def run(self)
                        def replace_callback(match)
                    def clean_non_bgdkpt(self, text)
                    def vocalize_batch(self, word_list)
                    def vocalize_single_word(self, word)
                    def full_text_vocalization_process(self, input_text)
                    def apply_dictionary_on_vocalized(self, text)
                    def get_vocalized_pattern(self, base_word)
            ğŸ __init__.py
            ğŸ telegram_worker.py
                class TelegramWorker(QThread)
                    def __init__(self, token, chat_id, files_list)
                    def run(self)
                            def data_generator()
            ğŸ tts_worker.py
                class ServerOverloadError(Exception)
                class NetworkConnectionError(Exception)
                class TTSWorker(QThread)
                    def __init__(self, text, output_file, voice, rate, volume, dicta_dict, parent=None, dual_mode=False)
                    def run(self)
                    def enforce_dictionary(self, text)
                    def report_status(self)
                    def bytes_to_audio(self, audio_bytes, idx)
                    def smart_trim(self, audio_segment, idx, limit=-50)
                class AudioPreviewWorker(QThread)
                    def __init__(self, cache_key, text, voice, speed)
                    def run(self)
